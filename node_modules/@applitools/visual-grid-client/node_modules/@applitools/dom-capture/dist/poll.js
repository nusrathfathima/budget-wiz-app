/* @applitools/dom-capture@7.3.0 */

function __poll() {
  var poll=function(){"use strict";const t="WIP",n="SUCCESS",e="SUCCESS_CHUNKED",r="ERROR";return function(u){const i=function(u,{maxChunkSize:i=0}={}){if(u){if(u.value){if(i&&(u.stringified||(u.stringified=JSON.stringify(u.value)),u.stringified.length>i)){const t=u.nextChunkIndex||0;return u.nextChunkIndex=t+i,{status:e,value:u.stringified.substring(t,u.nextChunkIndex),done:u.nextChunkIndex>=u.stringified.length}}return{status:n,value:u.value}}return u.error?{status:r,error:u.error}:{status:t}}return{status:r,error:"unexpected poll request received - cannot find state of current operation"}}(window.__EYES__APPLITOOLS__?window.__EYES__APPLITOOLS__.captureDomResult:null,u);return(i.status===n||i.status===r||i.status===e&&i.done)&&(window.__EYES__APPLITOOLS__.captureDomResult=null),JSON.stringify(i)}}();

  return poll.apply(this, arguments);
}